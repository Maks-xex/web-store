<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Potwierdzenie Zamówienia</title>
    <style>
      body {
        font-family: Arial;
        padding: 20px;
      }
      li {
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Zamówienie złożone pomyślnie!</h1>
    <h2>Podsumowanie zamówienia:</h2>
    <ul id="order-summary"></ul>
    <h3 id="total"></h3>
    <a href="/web-store" onclick="localStorage.removeItem('order');"
      >Wróć do listy produktów</a
    >

    <script>
      const order = JSON.parse(localStorage.getItem("order"));
      const summaryEl = document.getElementById("order-summary");
      const totalEl = document.getElementById("total");

      let total = 0;
      order.items.forEach((item) => {
        const price = item.price;
        const subtotal = price * item.quantity;
        total += subtotal;
        const li = document.createElement("li");
        li.textContent = `${item.name} - ${item.quantity} x ${price.toFixed(2)} PLN = ${subtotal.toFixed(2)} PLN`;
        summaryEl.appendChild(li);
      });
      totalEl.textContent = `Łączna kwota: ${total.toFixed(2)} PLN`;
    </script>
  </body>
</html>
